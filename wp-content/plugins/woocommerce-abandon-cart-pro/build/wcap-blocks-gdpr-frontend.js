!function(){"use strict";var e=window.wc.blocksCheckout,t=window.React,a=window.wp.element,o=window.wc.wcSettings;const{optInEmailsDefaultText:n}=(0,o.getSetting)("wcap-gdpr-email_data",""),{optOutEmailsDefaultText:c}=(0,o.getSetting)("wcap-gdpr-email_data",""),{optOutEmailsConfirmationText:r}=(0,o.getSetting)("wcap-gdpr-email_data",""),{ajaxUrl:i}=(0,o.getSetting)("wcap-gdpr-email_data");var l=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"woocommerce-abandon-cart-pro/wcap-gdpr-email","version":"1.0.0","title":"GDPR Email Compliance","category":"woocommerce","parent":["woocommerce/checkout-contact-information-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"textdomain":"woocommerce-ac","editorScript":"file:./build/index.js"}');(0,e.registerCheckoutBlock)({metadata:l,component:({children:e,checkoutExtensionData:o})=>{const[i,l]=(0,a.useState)(!1),m=()=>{d("wcap_gdpr_no_thanks",!0),l(!0)},d=(e,t)=>{const a=localStorage.getItem(e);localStorage.setItem(e,t);const o=new StorageEvent("storage",{key:e,oldValue:a,newValue:t,url:window.location.href,storageArea:localStorage});window.dispatchEvent(o)};return(0,t.createElement)("div",null,i?null:(0,t.createElement)((function(){return(0,t.createElement)("div",{id:"wcap_gdpr_msg"},n," ",(0,t.createElement)("a",{id:"wcap_gdpr_no_thanks",onClick:m},c))}),null),i?(0,t.createElement)((function({display:e}){return(0,t.createElement)("div",{id:"wcap_gdpr_opt_out_confirmation"},r)}),null):null)}})}();