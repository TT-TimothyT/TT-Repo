jQuery(document).ready(function(r){"use strict";r.wc_products_compare_frontend={getComparedProducts:function(){var o=r.cookie(wc_products_compare_local.cookieName);return!(void 0===o||!o.length)&&o.split(",")},setComparedProducts:function(o){var c=r.wc_products_compare_frontend.getComparedProducts();return!1===c?c=[String(o).trim()]:-1===c.indexOf(o)&&c.push(o),r.cookie.raw=!0,r.cookie(wc_products_compare_local.cookieName,c.toString(),{expires:parseInt(wc_products_compare_local.cookieExpiry,10),path:"/"}),!0},unsetComparedProducts:function(o){var c=r.wc_products_compare_frontend.getComparedProducts();return!1!==c&&-1!==c.indexOf(String(o))&&c.splice(c.indexOf(String(o)),1),r.cookie.raw=!0,r.cookie(wc_products_compare_local.cookieName,c.toString(),{expires:parseInt(wc_products_compare_local.cookieExpiry,10),path:"/"}),!0},widgetAddProduct:function(e){var o={action:"wc_products_compare_add_product_ajax",ajaxAddProductNonce:wc_products_compare_local.ajaxAddProductNonce,product_id:e};r.post(wc_products_compare_local.ajaxurl,o,function(o){var c;o.length&&(c=r(".woocommerce-products-compare-widget"),0==r(c).find('li[data-product-id="'+e+'"]').length)&&(r(c).find(".no-products").length?(r(c).find(".no-products").remove(),r(c).find("a.woocommerce-products-compare-widget-compare-button").before("<ul>"+o+'</ul><a href="#" title="'+wc_products_compare_local.widgetRemoveProducts+'" class="woocommerce-products-compare-remove-all-products">'+wc_products_compare_local.widgetRemoveProducts+"</a>")):r(c).find("ul").append(o))})},widgetReset:function(){r(".woocommerce-products-compare-widget p.no-products").remove(),r(".woocommerce-products-compare-widget ul").remove(),r(".woocommerce-products-compare-widget a.woocommerce-products-compare-widget-compare-button").before('<p class="no-products">'+wc_products_compare_local.widgetNoProducts+"</p>"),r(".woocommerce-products-compare-widget .woocommerce-products-compare-remove-all-products").remove()},widgetRemoveProduct:function(o){r(".woocommerce-products-compare-widget").find('li[data-product-id="'+o+'"]').fadeOut("fast",function(){r(this).remove()}),(!1===r.wc_products_compare_frontend.getComparedProducts()||r.wc_products_compare_frontend.getComparedProducts().length<=0)&&r.wc_products_compare_frontend.widgetReset()},init:function(){r("body").on("click",".woocommerce-products-compare-compare-button input",function(){var o;!1===navigator.cookieEnabled?alert(wc_products_compare_local.noCookies):(r(this).parents(".product"),o=r(this).data("product-id"),r(this).is(":checked")?r.wc_products_compare_frontend.getComparedProducts().length>=wc_products_compare_local.maxProducts?(alert(wc_products_compare_local.maxAlert),r(this).prop("checked",!1)):(r.wc_products_compare_frontend.setComparedProducts(o),r.wc_products_compare_frontend.widgetAddProduct(o),r("body").trigger("wc_compare_product_checked",o)):(r.wc_products_compare_frontend.unsetComparedProducts(o),r.wc_products_compare_frontend.widgetRemoveProduct(o),r("body").trigger("wc_compare_product_unchecked",o)),r("body").trigger("wc_compare_product_update",o))}),r(".woocommerce-products-compare-content").on("click",".remove-compare-product",function(o){o.preventDefault();var c,e=r(this).data("remove-id"),o=r(".woocommerce-products-compare-content thead tr:first-child").find("th, td").length,o=Math.floor(100/o);r(".woocommerce-products-compare-content").find('td[data-product-id="'+e+'"], th[data-product-id="'+e+'"]').fadeOut("fast",function(){r(this).remove()}),r.wc_products_compare_frontend.unsetComparedProducts(e),(!1===r.wc_products_compare_frontend.getComparedProducts()||r.wc_products_compare_frontend.getComparedProducts().length<=0)&&r(".woocommerce-products-compare-content").html(wc_products_compare_local.noProducts),r(".woocommerce-products-compare-content tbody tr, .woocommerce-products-compare-content thead tr").each(function(){c=!0,r(this).find("td").not('[data-product-id="'+e+'"]').each(function(){r(this).html().trim()&&(c=!1)}),c&&r(this).fadeOut("fast",function(){r(this).remove()})}),r(".woocommerce-products-compare-content thead tr:first-child").find("th, td").css("width",o+"%")}),r("body").on("click",".woocommerce-products-compare-compare-link",function(){return 1<r.wc_products_compare_frontend.getComparedProducts().length||(alert(wc_products_compare_local.moreProducts),!1)}),r("body").on("click",".woocommerce-products-compare-widget-compare-button",function(){return 1<r.wc_products_compare_frontend.getComparedProducts().length||(alert(wc_products_compare_local.moreProducts),!1)}),r(".woocommerce-products-compare-widget").on("click",".remove-compare-product",function(o){o.preventDefault();o=r(this).data("remove-id");r.wc_products_compare_frontend.unsetComparedProducts(o),r.wc_products_compare_frontend.widgetRemoveProduct(o),r('input.woocommerce-products-compare-checkbox[data-product-id="'+o+'"]').prop("checked",!1)}),r(".woocommerce-products-compare-widget").on("click",".woocommerce-products-compare-remove-all-products",function(o){o.preventDefault(),r(".woocommerce-products-compare-widget ul li").each(function(o){var c=r(this).data("product-id");r.wc_products_compare_frontend.unsetComparedProducts(c),r.wc_products_compare_frontend.widgetRemoveProduct(c),r('input.woocommerce-products-compare-checkbox[data-product-id="'+c+'"]').prop("checked",!1)},function(){r.wc_products_compare_frontend.widgetReset()})})}},r.wc_products_compare_frontend.init()});